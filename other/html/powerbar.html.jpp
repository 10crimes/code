<HTML>
<HEAD>

<TITLE>Powerbar</TITLE>

<script type="text/javascript"> <!--

// Options (will be load/saveable w/ cookies?):
var powerBarPosition = "top";

// Runtime vars:
var powerBar; // == powerBarFrame
var mainFrame;

function createFrameset() {
	var distrib = ( powerBarPosition == "top" ? "10%,*" : "*,10%" );
	var startFrameSet     = '<frameset rows="'+distrib+'">';
	var powerBarFrameHtml = '<frame src="about:blank">';
	var mainFrameHtml     = '<frame src="http://www.google.com/">';
	var endFrameSet       = '</frameset>';
	var framesetHtml = "";
	framesetHtml += startFrameSet;
	framesetHtml += ( powerBarPosition == "top" ?  powerBarFrameHtml : mainFrameHtml );
	framesetHtml += ( powerBarPosition == "bottom" ?  powerBarFrameHtml : mainFrameHtml );
	framesetHtml += endFrameSet;
	document.writeln(framesetHtml);
	powerBar  = window.frames[ ( powerBarPosition == "top" ? 0 : 1 ) ];
	mainFrame = window.frames[ ( powerBarPosition == "top" ? 1 : 0 ) ];
}

// function addHtml(htmlStr) {
	// var hook = document.getElementById("pageHook");
	// hook.innerHTML += htmlStr;
// }

function generatePowerBar() {
	var powerBarHtml = '<FORM><INPUT type="text" size="30" value="http://www.google.com/"></FORM>';
	powerBar.document.open();
	powerBar.document.write(powerBarHtml);
	powerBar.document.close();
}

function init() {
	createFrameset();
	generatePowerBar();
	mainFrame.document.open();
	mainFrame.document.write("hello");
	mainFrame.document.close();
}

init();

	/*
	if (powerBarPosition == "top") {
		powerBarFrame = frames[0];
		mainFrame = frames[1];
	} else {
		powerBarFrame = 
	*/

	// window.frames[1].document.open();
	// window.frames[1].document.write('<h1>World<\/h1>');
	// window.frames[1].document.close();

/*

	alert("window.frames = " + window.frames[0]);
	// alert("window.frame0 = " + window.frames[0]);
	// alert("top.frame0 = " + top.frames[0]);
	// alert("document.frame0 = " + document.frames[0]);
	// alert("frame0 = " + frames[0]);


	alert("frame1 = " + frames[1]);

	addHtml("hello");

	document.getElementById("pageHook").style.visibility = "visible";

*/

// --> </script>

</HEAD>

<div id="pageHook" style="visibility: hidden">
</div>

</HTML>
